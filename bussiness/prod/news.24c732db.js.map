{"mappings":"AAAA,MAAMA,QAAUC,MAAMC,SAMtB,SAASC,YAAYC,EAAO,EAAGC,EAAQ,GACrC,OAAOL,QAAQM,IAAI,6DAA8D,CAAEC,OAAQ,CAAEH,OAAMC,WAErG,SAASG,YAAYC,GACnB,OAAOT,QAAQM,IAAI,+DAA+DG,KAGpF,SAASC,YACP,MAAMC,EAAY,IAAIC,gBAAgBC,SAASC,QAC/C,MAAO,CACLV,KAAMW,OAAOJ,EAAUL,IAAI,UAAY,EACvCD,MAAOU,OAAOJ,EAAUL,IAAI,WAAa,GAhB7CN,QAAQgB,aAAaC,SAASC,KAAIC,GACzBA,EAAIC,OAmBb,MAAMb,OAASG,aAAe,CAAEN,KAAM,EAAGC,MAAO,GAUhD,SAASgB,eAAeD,GACtB,MAAME,EAAOC,SAASC,eAAe,QAE/BC,EAAWH,EAAKI,WAAW,GAE3BC,EAAYP,EAAKQ,KAAI,CAACC,EAAMC,KAChC,MAAMC,EAAON,EAASO,WAAU,GAYhC,OATAD,EAAKL,WAAW,GAAGO,IAAMJ,EAAKK,IAAM,UAAYJ,EAChDC,EAAKL,WAAW,GAAGS,IAAMN,EAAKO,MAE9BL,EAAKL,WAAW,GAAGW,UAAYR,EAAKO,MAEpCL,EAAKL,WAAW,GAAGW,UAAYR,EAAKS,KAEpCP,EAAKQ,MAAMC,QAAU,OACrBT,EAAKU,KAAO,oBAAsBZ,EAAKpB,GAChCsB,KAGTT,EAAKoB,mBAAmBf,GAI1B,SAASgB,oBAlCTxC,YAAYI,OAAOH,KAAMG,OAAOF,OAAOuC,MAAKzB,IAC1CE,eAAeF,MACd0B,OAAMC,IACPC,QAAQC,MAAMF","sources":["src/js/news.js"],"sourcesContent":["const request = axios.create()\nrequest.interceptors.response.use(res => {\n  return res.data\n})\n\n\nfunction getNewsList(page = 1, limit = 8) {\n  return request.get('https://62a0527c202ceef7086ab1b6.mockapi.io/bussiness/news', { params: { page, limit } })\n}\nfunction getNewsItem(id) {\n  return request.get(`https://61e80b15e32cd90017acbfb7.mockapi.io/enterprise/news/${id}`)\n}\n\nfunction getParams() {\n  const urlParams = new URLSearchParams(location.search)\n  return {\n    page: Number(urlParams.get('page')) || 1,\n    limit: Number(urlParams.get('limit')) || 8\n  }\n}\n\nconst params = getParams() || { page: 1, limit: 8 }\ngetNewsList(params.page, params.limit).then(res => {\n  renderInfoItem(res)\n}).catch(e => {\n  console.error(e);\n})\n\n/**\n * @param {array} data\n * */\nfunction renderInfoItem(data) {\n  const news = document.getElementById('news')\n  // 取出第一个子元素作为模板\n  const template = news.childNodes[0]\n\n  const domStruct = data.map((item, index) => {\n    const temp = template.cloneNode(true)\n\n    // img\n    temp.childNodes[0].src = item.img + '?index=' + index\n    temp.childNodes[0].alt = item.title\n    // title\n    temp.childNodes[1].innerText = item.title\n    // desc\n    temp.childNodes[2].innerText = item.desc\n\n    temp.style.display = 'flex'\n    temp.href = \"./detail.html?id=\" + item.id\n    return temp\n  })\n\n  news.replaceChildren(...domStruct)\n\n\n}\nfunction renderPagination() {\n\n}\n"],"names":["request","axios","create","getNewsList","page","limit","get","params","getNewsItem","id","getParams","urlParams","URLSearchParams","location","search","Number","interceptors","response","use","res","data","renderInfoItem","news","document","getElementById","template","childNodes","domStruct","map","item","index","temp","cloneNode","src","img","alt","title","innerText","desc","style","display","href","replaceChildren","renderPagination","then","catch","e","console","error"],"version":3,"file":"news.24c732db.js.map"}